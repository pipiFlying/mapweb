(function(){"use strict";var l={8844:function(l,t,a){var n=a(6848),e=function(){var l=this,t=l._self._c;return t("div",{attrs:{id:"app"}},[t("MapGL")],1)},o=[],g=function(){var l=this,t=l._self._c;return t("div",{attrs:{id:"app"}},[t("baidu-map",{staticClass:"map",attrs:{center:l.center,zoom:12,tilt:l.tilt,heading:l.heading,"scroll-wheel-zoom":!0},on:{ready:l.onMapReady}},l._l(l.areas,(function(l,a){return t("bm-polygon",{key:a,attrs:{path:l.path,"stroke-color":l.strokeColor||"blue","fill-color":l.fillColor||"#aaddff","stroke-opacity":.8,"fill-opacity":.5,"stroke-weight":2,"stroke-style":l.strokeStyle}})})),1)],1)},r=[];a(8111),a(1701);const i=[{lng:107.52351093104733,lat:26.66009300627446},{lng:107.52669093255159,lat:26.657687611555584},{lng:107.52873906911367,lat:26.656266951677605},{lng:107.53012245959857,lat:26.65489470641542},{lng:107.53111059565923,lat:26.65295739059688},{lng:107.53111059565923,lat:26.65295739059688},{lng:107.53170347729561,lat:26.650261237439906},{lng:107.53177534173639,lat:26.6464671404551},{lng:107.5325838166951,lat:26.641122898331602},{lng:107.53138008731213,lat:26.64094529077884},{lng:107.53141601953251,lat:26.639702030092444},{lng:107.52985296794567,lat:26.638022799138344},{lng:107.52794856026514,lat:26.636020606541415},{lng:107.5269783903147,lat:26.636052900251855},{lng:107.52618788146617,lat:26.634777291672837},{lng:107.52712211919624,lat:26.63405067275479},{lng:107.52593635592346,lat:26.63330790192139},{lng:107.524409236557,lat:26.633097987540317},{lng:107.52095974339983,lat:26.633727729513964},{lng:107.52004347177996,lat:26.633792318235944},{lng:107.51882177628679,lat:26.6337115823277},{lng:107.51799533521788,lat:26.633437079808274},{lng:107.51619872419852,lat:26.633646993559573},{lng:107.51375533321219,lat:26.6351002319147},{lng:107.51323431601656,lat:26.63658574514183},{lng:107.51210245107437,lat:26.637861333308454},{lng:107.51147363721759,lat:26.63928222469339},{lng:107.51177906109089,lat:26.639556713015427},{lng:107.51240787494766,lat:26.639766615400028},{lng:107.5131624515758,lat:26.639718176422807},{lng:107.51450990984031,lat:26.638071238842322},{lng:107.51733058914071,lat:26.637328494432953},{lng:107.51627058863929,lat:26.64163957326133},{lng:107.51691736860626,lat:26.643480208496733},{lng:107.51727669081014,lat:26.645449977899272},{lng:107.51749228413246,lat:26.646515576538828},{lng:107.51801330132807,lat:26.6473551320236},{lng:107.51447397761993,lat:26.648905064217136},{lng:107.51269533271076,lat:26.6473551320236},{lng:107.51093465391179,lat:26.646515576538828},{lng:107.50956922953706,lat:26.64533695927216},{lng:107.5089224495701,lat:26.644497388788153},{lng:107.50313736208776,lat:26.64362552052765},{lng:107.4976217662583,lat:26.644481243140778},{lng:107.4948190530681,lat:26.647694181508246},{lng:107.49557362969624,lat:26.648162391028265},{lng:107.49760380014811,lat:26.64998677512578},{lng:107.49749600348696,lat:26.651342935360123},{lng:107.49781939347044,lat:26.651891852730127},{lng:107.49837634288644,lat:26.651972575647754},{lng:107.50344278596104,lat:26.653570877535344},{lng:107.50394583704646,lat:26.653393289553794},{lng:107.50489804088673,lat:26.65273136825312},{lng:107.50576041417602,lat:26.65169811749242},{lng:107.50707194022016,lat:26.65051955430276},{lng:107.50964109397785,lat:26.651246067311998},{lng:107.50985668730017,lat:26.653474011398213},{lng:107.51244380716805,lat:26.652650645877866},{lng:107.5125875360496,lat:26.65135908002673},{lng:107.51298279047386,lat:26.651246067311998},{lng:107.51366550266121,lat:26.65122992262923},{lng:107.51587533421502,lat:26.65116534387509},{lng:107.51693533471645,lat:26.651714262108253},{lng:107.51839058964214,lat:26.65234390032567},{lng:107.52149872670563,lat:26.65256992344491},{lng:107.52184008279932,lat:26.654458813254013},{lng:107.52045669231441,lat:26.65533059789421},{lng:107.51853431852369,lat:26.656186231829697},{lng:107.51662991084316,lat:26.657267872997533},{lng:107.51671974139413,lat:26.65796205515372},{lng:107.51760008079361,lat:26.65843022210502},{lng:107.51822889465039,lat:26.658559371267202},{lng:107.5193427934824,lat:26.65792976770621},{lng:107.52121126894254,lat:26.65771989907234},{lng:107.52221737111338,lat:26.658123492252777},{lng:107.52286415108036,lat:26.65902753574168},{lng:107.52342110049635,lat:26.66017372332933}],s=[{lng:107.47531684045292,lat:26.878414536370872},{lng:107.48271887785269,lat:26.87006816720356},{lng:107.49012091525248,lat:26.863268155180673},{lng:107.49360634063004,lat:26.858691611145684},{lng:107.49809786817843,lat:26.86072207279201},{lng:107.49349854396887,lat:26.865298533797503},{lng:107.49372312034629,lat:26.866184798627735},{lng:107.49422617143172,lat:26.866845464207092},{lng:107.49429803587249,lat:26.867699489541288},{lng:107.4942621036521,lat:26.868215124322866},{lng:107.49449566308462,lat:26.868537394854616},{lng:107.49490888361908,lat:26.868440713792555},{lng:107.49544786692488,lat:26.868956345158118},{lng:107.49575329079818,lat:26.869326953734262},{lng:107.49535803637391,lat:26.869697561082745},{lng:107.49465735807637,lat:26.869923147563362},{lng:107.49345362869339,lat:26.869262500157035},{lng:107.49282481483661,lat:26.86918193313328},{lng:107.49253735707352,lat:26.869504200880183},{lng:107.49228583153081,lat:26.87019707339259},{lng:107.49233972986138,lat:26.870551564646558},{lng:107.49386684922784,lat:26.871083299421393},{lng:107.49471125640694,lat:26.8719050663749},{lng:107.49519634138217,lat:26.87256569817604},{lng:107.49587905356952,lat:26.873113536222707},{lng:107.50072990332181,lat:26.87390306280559},{lng:107.5015563443907,lat:26.873822499123865},{lng:107.50284990432465,lat:26.87337134143393},{lng:107.50407159981782,lat:26.872936294795323},{lng:107.50532922753138,lat:26.872581811098065},{lng:107.51071906058947,lat:26.872694601487225},{lng:107.51063821309359,lat:26.882055807310365},{lng:107.51124906084017,lat:26.882055807310365},{lng:107.51124007778508,lat:26.88274860207207},{lng:107.51122211167488,lat:26.884295291167106},{lng:107.50780855073809,lat:26.884279179932648},{lng:107.50784448295848,lat:26.88481084944419},{lng:107.50784448295848,lat:26.885616404492765},{lng:107.50335295541008,lat:26.890143515891534},{lng:107.5043770236911,lat:26.890159626280873},{lng:107.50507770198867,lat:26.890659047198714},{lng:107.50543702419253,lat:26.891432339701296},{lng:107.50556278696389,lat:26.89251171820721},{lng:107.50558075307409,lat:26.892850028727647},{lng:107.50545499030272,lat:26.89309167847243},{lng:107.50507770198867,lat:26.89331721776283},{lng:107.50507770198867,lat:26.89394550338616},{lng:107.50390990482607,lat:26.893929393542507},{lng:107.50390990482607,lat:26.893365547551557},{lng:107.50360448095279,lat:26.89320444817452},{lng:107.50319126041833,lat:26.89312389839892},{lng:107.50258041267175,lat:26.89314000835868},{lng:107.50229295490865,lat:26.89312389839892},{lng:107.50231092101885,lat:26.89244727799197},{lng:107.501304818848,lat:26.892431167932358},{lng:107.49923871617574,lat:26.893397767399094},{lng:107.49889736008205,lat:26.893542756598094},{lng:107.49825058011508,lat:26.893284997892064},{lng:107.49722651183404,lat:26.892833918726083},{lng:107.49713668128308,lat:26.890191847052584},{lng:107.49656176575688,lat:26.88993408061881},{lng:107.49535803637391,lat:26.88993408061881},{lng:107.4945405783601,lat:26.889982411870424},{lng:107.4934266795281,lat:26.891142355639765},{lng:107.49105515298254,lat:26.891561221264922},{lng:107.48897108420007,lat:26.891045694118745},{lng:107.486922947638,lat:26.890207957434956},{lng:107.48573718436522,lat:26.889563540328883},{lng:107.48501853995748,lat:26.889595761272425},{lng:107.48404837000703,lat:26.889821307617126},{lng:107.48332972559928,lat:26.890046853506735},{lng:107.48332972559928,lat:26.890046853506735},{lng:107.48146125013915,lat:26.88991797019697},{lng:107.47977243578094,lat:26.889853528486363},{lng:107.47912565581397,lat:26.889466877442555},{lng:107.478478875847,lat:26.888693571342696},{lng:107.47768836699848,lat:26.887404715955068},{lng:107.47761650255771,lat:26.886953613058843},{lng:107.47718531591306,lat:26.886534730168176},{lng:107.47635887484415,lat:26.886180289573275},{lng:107.47578395931795,lat:26.886083623761458},{lng:107.47589175597912,lat:26.88560029344867},{lng:107.47596362041989,lat:26.88511696104637},{lng:107.47574802709757,lat:26.88463362655459},{lng:107.47488565380827,lat:26.883699173945715},{lng:107.47463412826556,lat:26.883538060637605},{lng:107.47553243377524,lat:26.878317863845336}],p=[{lng:107.40542867179973,lat:26.956305397017935},{lng:107.40542867179973,lat:26.95575796697714},{lng:107.4052130784774,lat:26.955274938237817},{lng:107.40474595961237,lat:26.954791907405312},{lng:107.4049615529347,lat:26.953954649003894},{lng:107.40506934959585,lat:26.953471612450187},{lng:107.40643477397057,lat:26.95343940993885},{lng:107.40603951954631,lat:26.952441127473445},{lng:107.40754867280258,lat:26.949381819083392},{lng:107.40787206278605,lat:26.94876994733152},{lng:107.40729714725987,lat:26.946386835871003},{lng:107.40823138498993,lat:26.944518956149235},{lng:107.40837511387149,lat:26.943746031250544},{lng:107.40866257163458,lat:26.943327361360357},{lng:107.40884223273652,lat:26.942554428203046},{lng:107.4108544370782,lat:26.941813695567284},{lng:107.4108544370782,lat:26.941813695567284},{lng:107.4119683359102,lat:26.940944133587045},{lng:107.41336969250531,lat:26.94123398833374},{lng:107.41390867581111,lat:26.940300009230842},{lng:107.41426799801499,lat:26.94007456482737},{lng:107.41491477798196,lat:26.940138977560576},{lng:107.41678325344209,lat:26.940944133587045},{lng:107.41771749117217,lat:26.940300009230842},{lng:107.41750189784985,lat:26.939366022307073},{lng:107.41743003340906,lat:26.937852302753228},{lng:107.4198734243954,lat:26.937755681658746},{lng:107.41861579668185,lat:26.934760386220525},{lng:107.41678325344209,lat:26.934857009909305},{lng:107.41778935561294,lat:26.932860103335006},{lng:107.41879545778379,lat:26.932409184000793},{lng:107.41865172890223,lat:26.931893845387396},{lng:107.4184720678003,lat:26.9311530419607},{lng:107.41800494893526,lat:26.930895370050717},{lng:107.41793308449449,lat:26.93025118767251},{lng:107.41782528783332,lat:26.929864676460525},{lng:107.41721444008674,lat:26.92925269763692},{lng:107.41523816796544,lat:26.928576296085062},{lng:107.4108544370782,lat:26.9293815355629},{lng:107.41013579267046,lat:26.929059440469025},{lng:107.40977647046658,lat:26.92841524749223},{lng:107.40963274158503,lat:26.927835470633628},{lng:107.40938121604232,lat:26.9270946402643},{lng:107.4086266394142,lat:26.926547066830544},{lng:107.40808765610838,lat:26.926418225632155},{lng:107.40697375727638,lat:26.926063911569642},{lng:107.40582392622399,lat:26.926128332391954},{lng:107.40596765510553,lat:26.925162016153024},{lng:107.40471002739199,lat:26.92558075421711},{lng:107.40442256962888,lat:26.926289384285027},{lng:107.40294934859301,lat:26.927191270591376},{lng:107.40219477196487,lat:26.926804748781098},{lng:107.39949985543583,lat:26.927706630922668},{lng:107.39903273657079,lat:26.928125359439445},{lng:107.3984578210446,lat:26.92822198887404},{lng:107.39813443106111,lat:26.9280609397699},{lng:107.39791883773879,lat:26.927867680538128},{lng:107.39694866778834,lat:26.928640715457114},{lng:107.39730798999221,lat:26.928995021338686},{lng:107.39737985443298,lat:26.929349326095345},{lng:107.39709239666989,lat:26.92973583909236},{lng:107.39709239666989,lat:26.93015455999502},{lng:107.3970205322291,lat:26.930637697545695},{lng:107.39666121002524,lat:26.930766533872582},{lng:107.39644561670292,lat:26.930895370050717},{lng:107.3956551078544,lat:26.93050886107006},{lng:107.39554731119323,lat:26.93018676923015},{lng:107.39321171686807,lat:26.931958262844233},{lng:107.39238527579916,lat:26.935629996406902},{lng:107.39263680134187,lat:26.936209732765324},{lng:107.39227747913799,lat:26.937626853402588},{lng:107.39209781803605,lat:26.93836761384369},{lng:107.3925649369011,lat:26.938689682066354},{lng:107.39353510685154,lat:26.939333815721934},{lng:107.39450527680201,lat:26.939430435449452},{lng:107.3950801923282,lat:26.939462642006692},{lng:107.39576290451555,lat:26.939945739249367},{lng:107.39601443005827,lat:26.940847515170756},{lng:107.3962300233806,lat:26.9419103131466},{lng:107.3953676500913,lat:26.945163056139272},{lng:107.39597849783787,lat:26.948319092313085},{lng:107.39446934458161,lat:26.950412332338487},{lng:107.39353510685154,lat:26.95343940993885},{lng:107.39371476795348,lat:26.954341076739833},{lng:107.39411002237775,lat:26.955274938237817},{lng:107.39457714124278,lat:26.956240993623272},{lng:107.3950801923282,lat:26.956820622835572},{lng:107.39576290451555,lat:26.957818866079727},{lng:107.40136833089596,lat:26.959332314589897}];var c={name:"DrawRegionMap",components:{},data(){return{center:{lng:107.52355584632284,lat:26.660076883968387},zoom:18,tilt:45,heading:0,areas:[{path:i,strokeColor:"yellow",fillColor:"#ccffcc",strokeStyle:"dashed"},{path:s,strokeColor:"yellow",fillColor:"#ccffcc",strokeStyle:"dashed"},{path:p,strokeColor:"yellow",fillColor:"#ccffcc",strokeStyle:"dashed"}]}},methods:{onMapReady({BMap:l,map:t}){console.log("地图加载完成"),t.setMapStyleV2({styleId:"d674a6396fd8c655b5b0d08117400fa4"}),t.disableScrollWheelZoom();let a=0;const n=300,e=1;t.getContainer().addEventListener("wheel",(l=>{const o=Date.now();if(o-a<n)return;const g=l.deltaY||l.wheelDelta,r=t.getZoom();let i;i=g<0?r+e:r-e,i>=3&&i<=50&&t.setZoom(i),a=o}));const o=new BMapLib.DrawingManager(t,{isOpen:!0,enableDrawingTool:!0,drawingToolOptions:{anchor:BMAP_ANCHOR_TOP_RIGHT,offset:new l.Size(10,10)},polygonOptions:{strokeColor:"red",fillColor:"red",strokeWeight:2,strokeOpacity:1,fillOpacity:.5}});o.addEventListener("overlaycomplete",(l=>{if(console.log(l,"绘制完成88888888"),"polyline"===l.drawingMode){const t=l.overlay.getPath().map((l=>({lng:l.lng,lat:l.lat})));console.log("绘制区域点数组:",t),this.saveArrayToFile(t),alert("区域点数组已打印到控制台")}}))},saveArrayToFile(l){const t=JSON.stringify(l,null,2),a=new Blob([t],{type:"application/json"}),n=URL.createObjectURL(a),e=document.createElement("a");e.href=n,e.download="myArrayData.json",document.body.appendChild(e),e.click(),document.body.removeChild(e),URL.revokeObjectURL(n)}}},d=c,h=a(1656),m=(0,h.A)(d,g,r,!1,null,"20eaa7db",null),u=m.exports,f=function(){var l=this,t=l._self._c;return t("div",{staticClass:"map-container"},[t("div",{ref:"mapGL",staticClass:"map-container-GL"}),t("div",{staticClass:"map-container-btns"},[t("div",{staticClass:"btn-qy",on:{click:l.zoomToFQAreas}},[l._v("福泉园区")]),l._l(l.FQAreas,(function(a,n){return t("div",{key:n,staticClass:"btn-item",on:{click:function(t){return l.zoomToArea(n)}}},[l._v(l._s(a.name))])}))],2)])},y=[],v=(a(531),a(7588),{name:"MapGL",components:{},data(){return{mapOptions:{center:{lng:107.52355584632284,lat:26.660076883968387},zoom:13,tilt:60,heading:0,styleId:"d674a6396fd8c655b5b0d08117400fa4"},map:null,BMapGL:null,FQAreas:[{name:"区块一",path:i,strokeColor:"#5679ea",fillColor:"#5679ea",strokeStyle:"dashed",polygon:null},{name:"区块二",path:s,strokeColor:"#5679ea",fillColor:"#5679ea",strokeStyle:"dashed",polygon:null},{name:"区块三",path:p,strokeColor:"#5679ea",fillColor:"#5679ea",strokeStyle:"dashed",polygon:null}]}},mounted(){this.loadBMapGL()},methods:{loadBMapGL(){const l=document.createElement("script");l.src="https://api.map.baidu.com/api?v=1.0&type=webgl&ak=HLZysC0OF7Mr7UB6di78LOYrDcyUWFjh&callback=onMapReady",document.body.appendChild(l),window.onMapReady=()=>{this.onMapReady()}},onMapReady(){BMapGL&&(this.BMapGL=BMapGL),this.map=new this.BMapGL.Map(this.$refs.mapGL),this.map.centerAndZoom(new this.BMapGL.Point(this.mapOptions.center.lng,this.mapOptions.center.lat),this.mapOptions.zoom),this.map.setTilt(this.mapOptions.tilt),this.map.setMapStyleV2({styleId:this.mapOptions.styleId}),this.map.enableScrollWheelZoom(),this.setAreas()},setAreas(){this.FQAreas.forEach((l=>{const t=l.path.map((l=>new this.BMapGL.Point(l.lng,l.lat)));l.polygon=new this.BMapGL.Polygon(t,{strokeColor:l.strokeColor,strokeWeight:2,strokeOpacity:.8,fillColor:l.fillColor,fillOpacity:.2,strokeStyle:l.strokeStyle});const a=new this.BMapGL.Prism(t,500,{topFillColor:l.fillColor,topFillOpacity:.5,sideFillColor:l.strokeColor,sideFillOpacity:.5});this.map.addOverlay(a);const n=this.calculateCenter(t);this.creatDOM(n,l),this.map.addOverlay(l.polygon)}))},calculateCenter(l){const t=l.map((l=>l.lng)),a=l.map((l=>l.lat)),n=Math.min(...t),e=Math.max(...t),o=Math.min(...a),g=Math.max(...a);return new this.BMapGL.Point((n+e)/2,(o+g)/2)},zoomToFQAreas(){const l=this.FQAreas.flatMap((l=>l.path.map((l=>new this.BMapGL.Point(l.lng,l.lat)))));this.map.setViewport(l)},zoomToArea(l){const t=this.FQAreas[l],a=t.path.map((l=>new this.BMapGL.Point(l.lng,l.lat))),n=this.calculateCenter(a),e={center:n,zoom:15,tilt:this.mapOptions.tilt},o={duration:1e3,delay:0,type:BMAP_ANIMATION_BOUNCE};this.map.setViewport(e,o)},creatDOM(l,t){function a(l){this._point=l}a.prototype=new this.BMapGL.Overlay,a.prototype.initialize=function(l){this._map=l;const a=document.createElement("div");a.className="custom-overlay",a.innerHTML=`\n          <div class="custom-overlay-box">\n            <div class="custom-overlay-title">${t.name}</div>\n          </div>`;const n=document.createElement("div");return a.appendChild(n),n.className="custom-arrow",this._div=a,l.getPanes().labelPane.appendChild(a),a},a.prototype.draw=function(){const l=this._map.pointToOverlayPixel(this._point),t=this._div,a=t.offsetWidth,n=t.offsetHeight;t.style.left=l.x-a/2+"px",t.style.top=l.y-2*n+"px"};const n=new a(l);this.map.addOverlay(n)}},beforeDestroy(){this.map&&this.map.destroy(),this.BMapGL&&(this.BMapGL=null)}}),M=v,w=(0,h.A)(M,f,y,!1,null,"68c7c3d3",null),b=w.exports,C=function(){var l=this,t=l._self._c;return t("div",{staticStyle:{width:"100%",height:"500px"}},[t("bmap-gl",{staticStyle:{width:"100%",height:"100%"},attrs:{center:{lng:116.404,lat:39.915},zoom:15}},[t("bmap-gl-marker",{attrs:{position:{lng:116.404,lat:39.915}}})],1)],1)},k=[],O={name:"BMapGL",data(){return{center:{lng:116.404,lat:39.915},zoom:15,markerPosition:{lng:116.404,lat:39.915}}},methods:{handleMapReady({BMapGL:l,map:t}){console.log("地图加载完成",t)}}},L=O,A=(0,h.A)(L,C,k,!1,null,null,null),B=A.exports,G={name:"App",components:{MapView:u,MapGL:b,BMapGL:B}},_=G,x=(0,h.A)(_,e,o,!1,null,null,null),P=x.exports;n.Ay.config.productionTip=!1,new n.Ay({render:l=>l(P)}).$mount("#app")}},t={};function a(n){var e=t[n];if(void 0!==e)return e.exports;var o=t[n]={exports:{}};return l[n].call(o.exports,o,o.exports,a),o.exports}a.m=l,function(){var l=[];a.O=function(t,n,e,o){if(!n){var g=1/0;for(p=0;p<l.length;p++){n=l[p][0],e=l[p][1],o=l[p][2];for(var r=!0,i=0;i<n.length;i++)(!1&o||g>=o)&&Object.keys(a.O).every((function(l){return a.O[l](n[i])}))?n.splice(i--,1):(r=!1,o<g&&(g=o));if(r){l.splice(p--,1);var s=e();void 0!==s&&(t=s)}}return t}o=o||0;for(var p=l.length;p>0&&l[p-1][2]>o;p--)l[p]=l[p-1];l[p]=[n,e,o]}}(),function(){a.n=function(l){var t=l&&l.__esModule?function(){return l["default"]}:function(){return l};return a.d(t,{a:t}),t}}(),function(){a.d=function(l,t){for(var n in t)a.o(t,n)&&!a.o(l,n)&&Object.defineProperty(l,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(l){if("object"===typeof window)return window}}()}(),function(){a.o=function(l,t){return Object.prototype.hasOwnProperty.call(l,t)}}(),function(){var l={524:0};a.O.j=function(t){return 0===l[t]};var t=function(t,n){var e,o,g=n[0],r=n[1],i=n[2],s=0;if(g.some((function(t){return 0!==l[t]}))){for(e in r)a.o(r,e)&&(a.m[e]=r[e]);if(i)var p=i(a)}for(t&&t(n);s<g.length;s++)o=g[s],a.o(l,o)&&l[o]&&l[o][0](),l[o]=0;return a.O(p)},n=self["webpackChunkmapweb"]=self["webpackChunkmapweb"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(8844)}));n=a.O(n)})();